<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Family Promise & Bible</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <link rel="stylesheet" href="style.css"> </head>
<body>

    <div id="splash-screen">
        <div class="splash-content">
            <div class="logo-large">Family✨</div>
            <p>우리 가족의 믿음 습관</p>
            <div class="spinner"></div>
        </div>
    </div>

    <div id="login-modal" class="modal hidden">
        <div class="modal-content">
            <h2>반가워요! 👋</h2>
            <p>오늘 하루를 기록할 가족을 선택해주세요.</p>
            <div id="login-grid" class="grid-2">
                </div>
        </div>
    </div>

    <div id="app-container" class="hidden">
        
        <header class="top-bar">
            <div class="logo">Family✨</div>
            <div class="header-actions">
                <button class="icon-btn" onclick="window.toggleTheme()">🌗</button>
                <div id="user-profile" class="profile-badge" onclick="window.logoutAction()">
                    <span id="user-name">Guest</span>
                </div>
            </div>
        </header>

        <main class="content-area">
            
            <section class="card verse-card">
                <div class="card-bg-deco"></div>
                <div id="verseText" class="verse-text">오늘의 말씀을 불러오고 있습니다...</div>
                <div id="verseRef" class="verse-ref"></div>
            </section>

            <div id="page-resolution" class="page active">
                <div class="section-header">
                    <h3>오늘의 다짐</h3>
                    <input type="time" id="alarm-time-input" class="time-picker" onchange="window.saveAlarmTime()">
                </div>
                
                <div class="input-group">
                    <input type="text" id="input-resolution" placeholder="새로운 다짐 추가하기...">
                    <button class="btn-primary" onclick="window.addItem()">+</button>
                </div>
                <ul id="list-resolution" class="list-stack"></ul>

                <div class="divider"></div>
                
                <h3>응원 메시지 💌</h3>
                <div class="input-group">
                    <input type="text" id="input-msg" placeholder="가족들에게 힘이 되는 한마디">
                    <button class="btn-secondary" onclick="window.sendMsg()">전송</button>
                </div>
                <ul id="msg-list" class="msg-stack"></ul>
            </div>

            <div id="page-bible" class="page hidden">
                <div id="myBibleStat" class="stat-banner">데이터 로딩 중...</div>
                
                <div id="bible-main-view" class="grid-2 mt-20">
                    <button class="big-card old-testament" onclick="window.showBibleBooks('old')">
                        <span class="icon">📜</span>
                        <span class="label">구약 성경</span>
                    </button>
                    <button class="big-card new-testament" onclick="window.showBibleBooks('new')">
                        <span class="icon">✝️</span>
                        <span class="label">신약 성경</span>
                    </button>
                </div>

                <div id="bible-books-view" class="sub-view hidden">
                    <button class="btn-text" onclick="window.showBibleMain()">← 뒤로가기</button>
                    <h3 id="bible-testament-title"></h3>
                    <div id="bible-books-grid" class="grid-xs"></div>
                </div>

                <div id="bible-chapters-view" class="sub-view hidden">
                    <div class="view-header">
                        <button class="btn-text" onclick="window.backToBooks()">←</button>
                        <h3 id="bible-book-title">창세기</h3>
                        <button class="btn-finish" onclick="window.finishBookAndReset()">완독 🎉</button>
                    </div>
                    <div class="chapter-controls">
                        <button class="btn-xs" onclick="window.controlAllChapters(true)">전체선택</button>
                        <button class="btn-xs" onclick="window.controlAllChapters(false)">해제</button>
                    </div>
                    <div id="bible-chapters-grid" class="grid-chapters"></div>
                </div>
            </div>

            <div id="page-stats" class="page hidden">
                <div class="empty-state">
                    <div class="emoji">📊</div>
                    <p>가족들의 통계를 분석하고 있어요</p>
                </div>
            </div>
            
            <div style="height: 80px;"></div> </main>

        <nav class="bottom-nav">
            <button class="nav-item active" onclick="window.goTab('resolution', this)">
                <span class="icon">✅</span>
                <span class="label">다짐</span>
            </button>
            <button class="nav-item" onclick="window.goTab('bible', this)">
                <span class="icon">📖</span>
                <span class="label">성경</span>
            </button>
            <button class="nav-item" onclick="window.goTab('stats', this)">
                <span class="icon">📊</span>
                <span class="label">통계</span>
            </button>
        </nav>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>
